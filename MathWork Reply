** Mathwork Reply **

Hello Hattan, 

I am writing in reference to your Technical Support Case #02786544 regarding 'Sharing tcpip object between two Simulink blocks'.

I have had similar cases from your classmates previously about sharing tcpip objects within Simulink blocks. I see from your model that you are creating the TCPIP objects within Stateflow charts which make them local to it. I am giving a resolution which is the same as I gave to your classmates.

When using Stateflow, you may include MATLAB Function blocks within the charts to read and write from the TCP/IP object in the MATLAB Base Workspace. You can call these functions from within states. Please see the attached model "tcpipSf_16b.slx" to see how this is implemented.

Please note that this workflow is not documented or recommended. Although these set of commands work fine in MATLAB, Simulink is not meant to share TCP/IP objects. For this reason, the Instrumentation Control Toolbox has the TCP/IP Send/Receive blocks that serves the purpose more efficiently. Please consider migrating to this workflow in the future if possible. Here is an example showing the usage of these blocks:

https://www.mathworks.com/help/instrument/building-simulink-models-to-send-and-receive-data.html#brcdzfj-1 

I am marking the case as closed. Please feel free to email me back if the issue is not resolved. I'll reopen the case for further investigation

Sincerely, 
Eeshan Mitra
MathWorks Technical Support Department 

Please preserve the Reference ID in further correspondence on this query. This allows our systems to automatically associate your reply to the appropriate Case. 

If you have a new technical support question, please submit a new request here: 
http://www.mathworks.com/support/servicerequests/create.html

Self-Service: http://www.mathworks.com/support 
File Exchange and MATLAB Answers: http://www.mathworks.com/matlabcentral/ 

 

ref:_00Di0Ha1u._5000ZsUouk:ref
